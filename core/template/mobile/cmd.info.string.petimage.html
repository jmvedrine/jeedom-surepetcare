<div class="cmd cmd-widget" data-type="info" data-subtype="string" data-template="default" data-cmd_id="#id#"
    data-cmd_uid="#uid#" data-version="#version#" data-eqLogic_id="#eqLogic_id#">
    <div class="content">
        <img src="" style="display:block;height: 100px;width: 100px;border-radius: 50%;" />
    </div>
    <div class="timeCmd label label-default #history#" data-type="info"></div>
    <template>
        <div>time : duration|date ({{Affiche dur√©e ou date de la valeur}})</div>
    </template>
    <script>
        jeedom.cmd.addUpdateFunction('#id#', function (_options) {
            if (is_object(cmd = document.querySelector('.cmd[data-cmd_uid="#uid#"]'))) {
                cmd.querySelector('.content').setAttribute('title', '{{Date de valeur}}: ' + _options.valueDate + '<br>{{Date de collecte}}: ' + _options.collectDate)
                if ('#time#' == 'duration' || '#time#' == 'date') {
                    jeedom.cmd.displayDuration(_options.valueDate, cmd.querySelector('.timeCmd'), '#time#')
                }
                if (_options.value != '') {
                    cmd.querySelector('.content img').src = _options.value
                } else {
                    cmd.querySelector('.content img').src = 'core/img/no_image.gif'
                }

            }
        })

        jeedom.cmd.refreshValue([{ cmd_id: '#id#', value: '#value#', display_value: '#state#', valueDate: '#valueDate#', collectDate: '#collectDate#' }])
    </script>
</div>